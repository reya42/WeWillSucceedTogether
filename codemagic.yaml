workflows:
  ios-simulator-test:
    name: iOS Simulator Test
    max_build_duration: 120
    instance_type: mac_mini_m2
    environment:
      vars:
        XCODE_VERSION: 15.0
    scripts:
      - name: Install dependencies
        script: |
          npm install
          npm install -g expo-cli @react-native-community/cli
      - name: Update dependencies
        script: |
          npm update
      - name: Prebuild iOS files
        script: npx expo prebuild --platform ios
      - name: Install pods
        script: |
          cd ios
          pod install
          cd ..